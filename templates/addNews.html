{% extends 'index.html' %}
{% load static %}

{% block title %} news {% endblock %}
{% block body %}
    <h1>Add News</h1>
    <form method="POST" action="" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="">
            <div class="form-group">
                <label for="headline">Headline</label>
                <input type="text" id="headline"  name="headline" class="form-control" required placeholder="Enter headline">
            </div>
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" class="form-control" required placeholder="Enter headline">
            </div>
            <div class="form-group">
                <label for="news_body">About</label>
                <textarea type="text" id="news_body" name="news_body" rows="5" cols="10" required class="form-control border" placeholder="Enter headline"></textarea>
            </div>
            <div class="form-group">
                <label for="category">Category</label>
                <select id="category" name="category" required>
                    {% for category in categorys %}
                        <option value="{{ category.id }}">{{category.Category_name}}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="row">
                <div class="form-group">
                    <label for="category">Image 1:</label>
                    <input type="file" name="image1" id="imgInp1">
                    <img id="image1" src="#" class="form-control" style="height: 100px; width: 100px;" alt=" image1" />
                </div>
                <div class="form-group">
                    <label for="category">Image 2:</label>
                    <input type="file" name="image2" id="imgInp2">
                    <img id="image2" src="#" class="form-control" style="height: 100px; width: 100px;" alt="image2" />
                </div>
                <div class="form-group">
                    <label for="category">Image 3:</label>
                    <input type="file" name="image3" id="imgInp3">
                    <img id="image3" src="#" class="form-control" style="height: 100px; width: 100px;" alt="image3" />
                </div>
            </div>

        </div>
        <button type="submit" class="btn btn-active border btn-success">Upload</button>
    </form>



{% endblock %}


{% block script %}
<script>
    function readURL(input, id) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();
    
    reader.onload = function(e) {
      $(id).attr('src', e.target.result);
    }
    
    reader.readAsDataURL(input.files[0]); // convert to base64 string
  }
}

$("#imgInp1").change(function() {
  readURL(this, '#image1');
});

$("#imgInp2").change(function() {
  readURL(this, '#image2');
});
$("#imgInp3").change(function() {
  readURL(this, '#image3');
});
</script>

{% endblock %}